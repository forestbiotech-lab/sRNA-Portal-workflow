extends ../layout

block content
  script(id="database",src="/javascripts/de.js",defer)
  .card-block
    .container-fluid
      .row.d-none  
        .col-lg-12
          .card
            .card-header.studyInfo(studyId=studyId)
              h4.study.card-title Study&nbsp
                span.badge.badge-secondary#studyTitle
            .card-body
              button.btn.btn-primary.generate-table-form(table="Study",type='button', data-toggle='collapse', data-target='#table-study', aria-expanded='false', aria-controls='table-study')
                | Create Study
              #table-study.collapse
                .card.card-body
                  .form-Study
              button.btn.btn-primary.generate-table-form(table="Person",type='button', data-toggle='collapse', data-target='#table-Person', aria-expanded='false', aria-controls='table-Person')
                | Create Person              
              #table-Person.collapse
                .card.card-body
                  .form-Person
              button.btn.btn-primary.generate-table-form.generate-select-form(table="Study",type='button', data-toggle='collapse', data-target='#select-Study', aria-expanded='false', aria-controls='select-Study')
                | Get studies              
              #select-Study.collapse
                .card.card-body
                  .select-Study
                  .form-Study
    .row.navagation-buttons
      .col-lg-12
        .card
          .card-body
            ul.nav.justify-content-center
              li.nav-item
                a.btn.btn-light.nav-link(href='/de') Main
              li.nav-item
                a.btn.btn-light.nav-link(href=`/de/assaydata/${studyId}`) AssayData Matrix
              li.nav-item
                a.btn.btn-light.nav-link(href='/de/targets/new') Add Targets
                    
    .row.study-design
      .col-lg-12
        .card.study-design
          .card-header
            h5.card-title Study Design
          .card-body 
            button.btn.btn-secondary New Factor
            button.btn.btn-secondary Generate Contrasts

    .row
      .col-lg-12    
        .card.assay-list
          .card-header
            h4.assay.card-title Assay list
               span.badge.badge-secondary#assay-data-count
               span.badge.badge-secondary#mature-miRNA
          .card-body
            table.table
              thead
                tr
                  if ( data )
                    each header in Object.keys(data[0])
                      th=header
              tbody
                each row in data
                  tr
                    each key in Object.keys(row)
                      td=row[key]
