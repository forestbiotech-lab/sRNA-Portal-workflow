extends ../layout

block content
  script(id="database",src="/javascripts/de.js",defer)
  .card-block
    .container-fluid
      .row.gen-info  
        .col-lg-12
          .card.gen-info
            .card-header.study
              h4.card-title File Screening
              .card-body
                p This process identifies abnormalities in the uploaded file and previews the first lines of your file.
                  ul.InvalidStructure 
                    span.glyphicon.glyphicon-remove
                    | File structure of&nbsp; 
                    .span.badge.badge-secondary .tsv
                    | &nbsp;file
                    .alert.err-msg.alert-danger.d-none
                  ul.RepeatedLines
                    span.glyphicon.glyphicon-remove
                    | Repeated lines
                    .alert.err-msg.alert-danger.d-none
                  ul.RepeatedSequences
                    span.glyphicon.glyphicon-remove
                    | Repeated sequences
                    .alert.err-msg.alert-danger.d-none
                  ul.GenStats.Changethis
                    span.glyphicon.glyphicon-remove
                    | Shows general statistics
                    .alert.err-msg.alert-danger.d-none
                button.btn.btn-primary.btn-block Go back to previous page
              h4.card-title  Study id:&nbsp 
                span.badge.badge-secondary#studyId !{studyId} 
                span.badge.badge-success#studyTitle !{studyTitle} 
          .card.conflicts
            .card-header.conflicts
              h4.card-title Conflicts&nbsp
                span.badge.badge-secondary#ofConflicts 0
            .card-body      
              p Please resolve the following conflicts before saving data
            .card-header.duplicate-rows
              h3.card-title Duplicated Rows
                span.badge.badge-secondary#ofDuplicatedRows 0
                | &nbsp;sequences
            .card-body.duplicate-rows
              table.table.table-hover.duplicate-rows.invisible
                thead
                tbody
            .card-header.duplicate-sequences
              h3.card-title Duplicated Sequences
                span.badge.badge-secondary#ofDuplicatedSequences 0
                | &nbsp;sequences
            .card-body.duplicate-sequences                  
              table.table.table-hover.duplicate-sequences.invisible
                thead
                tbody
          .card.upload-table
            .card-header
              .row
                .col-lg-4
                  h4.card-title(title="This is the number of unique rows. Will decrease if merges occur due to duplicate sequences") Expression Matrix&nbsp
                    span.badge.badge-secondary#ofUploadSequences 0
                    | &nbsp;sequences
                .col-lg-5
                  .progress(style="position:relative;bottom:-12px;")
                    .progress-bar(role="progressbar",aria-valuenow="0",aria-valuemin="0",aria-valuemax="100")
                .col-lg-3
                  button.btn.btn-primary.upload-matrix(style="float:right") Save matrix
              .row
                a.btn.btn-primary(type="button",href=`/de/assays/${studyId}`) View Assays
              .row
                .col-lg-12
                  p.card-title Loaded successfully:&nbsp; 
                    span.badge.badge-secondary#uploadSuccesses 0
                    | &nbsp;sequences
                  p.card-title error on:&nbsp;  
                    span.badge.badge-secondary#uploadErrors 0
                    | &nbsp;sequences                  
                  p.card-title Showing 
                    span.badge.badge-secondary#ofLoadedRows 0
                    | &nbsp;sequences
            .card-body.upload-table  
              table.table.table-striped.upload-table
                thead
                tbody                
                  tr#lastRow(filename=uploadedFilename) 
                    td.blockquote.text-center(colspan=1) Loading missing sequences, please wait ...

